<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download REDCap Instruments — redcap_instrument_download • REDCapR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download REDCap Instruments — redcap_instrument_download"><meta name="description" content="Download instruments as a pdf, with or without responses."><meta property="og:description" content="Download instruments as a pdf, with or without responses."><meta property="og:image" content="https://ouhscbbmc.github.io/REDCapR/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">REDCapR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.9007</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/OuhscBbmc/REDCapR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Download REDCap Instruments</h1>
      <small class="dont-index">Source: <a href="https://github.com/OuhscBbmc/REDCapR/blob/main/R/redcap-instrument-download.R" class="external-link"><code>R/redcap-instrument-download.R</code></a></small>
      <div class="d-none name"><code>redcap_instrument_download.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Download instruments as a pdf, with or without responses.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">redcap_instrument_download</span><span class="op">(</span></span>
<span>  file_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  directory <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">redcap_uri</span>,</span>
<span>  <span class="va">token</span>,</span>
<span>  record <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  instrument <span class="op">=</span> <span class="st">""</span>,</span>
<span>  event <span class="op">=</span> <span class="st">""</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  config_options <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  handle_httr <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-file-name">file_name<a class="anchor" aria-label="anchor" href="#arg-file-name"></a></dt>
<dd><p>The name of the file where the downloaded pdf is saved.
Optional.</p></dd>


<dt id="arg-directory">directory<a class="anchor" aria-label="anchor" href="#arg-directory"></a></dt>
<dd><p>The directory where the file is saved. By default current
directory. Optional.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>Boolean value indicating if existing files should be
overwritten. Optional.</p></dd>


<dt id="arg-redcap-uri">redcap_uri<a class="anchor" aria-label="anchor" href="#arg-redcap-uri"></a></dt>
<dd><p>The
<a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier" class="external-link">uri</a>/url
of the REDCap server
typically formatted as "https://server.org/apps/redcap/api/".
Required.</p></dd>


<dt id="arg-token">token<a class="anchor" aria-label="anchor" href="#arg-token"></a></dt>
<dd><p>The user-specific string that serves as the password for a
project.  Required.</p></dd>


<dt id="arg-record">record<a class="anchor" aria-label="anchor" href="#arg-record"></a></dt>
<dd><p>The record ID of the instrument(s).  If empty, the responses
are blank.  Optional.</p></dd>


<dt id="arg-instrument">instrument<a class="anchor" aria-label="anchor" href="#arg-instrument"></a></dt>
<dd><p>The instrument(s) to download.  If empty, all instruments
are returned.  Optional.</p></dd>


<dt id="arg-event">event<a class="anchor" aria-label="anchor" href="#arg-event"></a></dt>
<dd><p>The unique event name. For a longitudinal project, if record is
not blank and event is blank, it will return data for all events from that
record. If record is not blank and event is not blank, it will return data
only for the specified event from that record. Optional.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>A boolean value indicating if <code>message</code>s should be printed
to the R console during the operation.  Optional.</p></dd>


<dt id="arg-config-options">config_options<a class="anchor" aria-label="anchor" href="#arg-config-options"></a></dt>
<dd><p>A list of options passed to <code><a href="https://httr.r-lib.org/reference/POST.html" class="external-link">httr::POST()</a></code>.
See details at <code><a href="https://httr.r-lib.org/reference/httr_options.html" class="external-link">httr::httr_options()</a></code>. Optional.</p></dd>


<dt id="arg-handle-httr">handle_httr<a class="anchor" aria-label="anchor" href="#arg-handle-httr"></a></dt>
<dd><p>The value passed to the <code>handle</code> parameter of
<code><a href="https://httr.r-lib.org/reference/POST.html" class="external-link">httr::POST()</a></code>.
This is useful for only unconventional authentication approaches.  It
should be <code>NULL</code> for most institutions.  Optional.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Currently, a list is returned with the following elements,</p><ul><li><p><code>success</code>: A boolean value indicating if the operation was apparently
successful.</p></li>
<li><p><code>status_code</code>: The
<a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" class="external-link">http status code</a>
of the operation.</p></li>
<li><p><code>outcome_message</code>: A human readable string indicating the operation's
outcome.</p></li>
<li><p><code>record_id</code>: The record_id of the instrument.</p></li>
<li><p><code>elapsed_seconds</code>: The duration of the function.</p></li>
<li><p><code>raw_text</code>: If an operation is NOT successful, the text returned by
REDCap.  If an operation is successful, the <code>raw_text</code> is returned as an
empty string to save RAM.</p></li>
<li><p><code>file_name</code>: The name of the file persisted to disk. This is useful if
the name stored in REDCap is used (which is the default).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Currently, the function doesn't modify any variable types to conform to
REDCap's supported variables.  See <code><a href="validate.html">validate_for_write()</a></code> for a helper
function that checks for some common important conflicts.</p>
<p>The function <code>redcap_download_instrument()</code> is soft-deprecated
as of REDCapR 1.2.0.
Please rename to <code>redcap_instrument_download()</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>The official documentation can be found on the 'API Help Page'
and 'API Examples' pages on the REDCap wiki (<em>i.e.</em>,
https://community.projectredcap.org/articles/456/api-documentation.html and
https://community.projectredcap.org/articles/462/api-examples.html).
If you do not have an account for the wiki, please ask your campus REDCap
administrator to send you the static material.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Will Beasley</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">uri</span>     <span class="op">&lt;-</span> <span class="st">"https://bbmc.ouhsc.edu/redcap/api/"</span></span></span>
<span class="r-in"><span><span class="va">token</span>   <span class="op">&lt;-</span> <span class="st">"D70F9ACD1EDD6F151C6EA78683944E98"</span> <span class="co"># pid=213</span></span></span>
<span class="r-in"><span><span class="co"># event &lt;- "" # only for longitudinal projects</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">full_name</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu">temp</span><span class="op">(</span>pattern<span class="op">=</span><span class="st">"instruments-all-records-all"</span>, fileext <span class="op">=</span> <span class="st">".pdf"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'temp' not found</span>
<span class="r-in"><span><span class="va">result_1</span>   <span class="op">&lt;-</span> <span class="fu">REDCapR</span><span class="fu">::</span><span class="fu">redcap_instrument_download</span><span class="op">(</span></span></span>
<span class="r-in"><span>  file_name     <span class="op">=</span> <span class="va">full_name</span>,</span></span>
<span class="r-in"><span>  redcap_uri    <span class="op">=</span> <span class="va">uri</span>,</span></span>
<span class="r-in"><span>  token         <span class="op">=</span> <span class="va">token</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'full_name' not found</span>
<span class="r-in"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">full_name</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'full_name' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">full_name</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern<span class="op">=</span><span class="st">"instruments-all-record-1-"</span>, fileext <span class="op">=</span> <span class="st">".pdf"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/var/folders/py/lcjn3y352g1106vf1rqk521r0000gn/T//RtmpqpLKtL/instruments-all-record-1-123119843c0d.pdf"</span>
<span class="r-in"><span><span class="va">result_2</span>   <span class="op">&lt;-</span> <span class="fu">REDCapR</span><span class="fu">::</span><span class="fu">redcap_instrument_download</span><span class="op">(</span></span></span>
<span class="r-in"><span>  record        <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  file_name     <span class="op">=</span> <span class="va">full_name</span>,</span></span>
<span class="r-in"><span>  redcap_uri    <span class="op">=</span> <span class="va">uri</span>,</span></span>
<span class="r-in"><span>  token         <span class="op">=</span> <span class="va">token</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Preparing to download the file `/var/folders/py/lcjn3y352g1106vf1rqk521r0000gn/T//RtmpqpLKtL/instruments-all-record-1-123119843c0d.pdf`.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> text/html; charset=UTF-8 successfully downloaded in 1.0 seconds, and saved as /var/folders/py/lcjn3y352g1106vf1rqk521r0000gn/T//RtmpqpLKtL/instruments-all-record-1-123119843c0d.pdf.</span>
<span class="r-in"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">full_name</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">full_name</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern<span class="op">=</span><span class="st">"instrument-1-record-1-"</span>, fileext<span class="op">=</span><span class="st">".pdf"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/var/folders/py/lcjn3y352g1106vf1rqk521r0000gn/T//RtmpqpLKtL/instrument-1-record-1-123138828691.pdf"</span>
<span class="r-in"><span><span class="va">result_3</span>   <span class="op">&lt;-</span> <span class="fu">REDCapR</span><span class="fu">::</span><span class="fu">redcap_instrument_download</span><span class="op">(</span></span></span>
<span class="r-in"><span>  record        <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  instrument    <span class="op">=</span> <span class="st">"health"</span>,</span></span>
<span class="r-in"><span>  file_name     <span class="op">=</span> <span class="va">full_name</span>,</span></span>
<span class="r-in"><span>  redcap_uri    <span class="op">=</span> <span class="va">uri</span>,</span></span>
<span class="r-in"><span>  token         <span class="op">=</span> <span class="va">token</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Preparing to download the file `/var/folders/py/lcjn3y352g1106vf1rqk521r0000gn/T//RtmpqpLKtL/instrument-1-record-1-123138828691.pdf`.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> text/html; charset=UTF-8 successfully downloaded in 0.4 seconds, and saved as /var/folders/py/lcjn3y352g1106vf1rqk521r0000gn/T//RtmpqpLKtL/instrument-1-record-1-123138828691.pdf.</span>
<span class="r-in"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">full_name</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Will Beasley.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

