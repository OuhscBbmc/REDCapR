<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read records from a REDCap project in subsets, and stacks them together before returning a dataset — redcap_read • REDCapR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read records from a REDCap project in subsets, and stacks them together before returning a dataset — redcap_read"><meta name="description" content="From an external perspective, this function is similar to
redcap_read_oneshot().  The internals differ in that redcap_read
retrieves subsets of the data, and then combines them before returning
(among other objects) a single tibble::tibble().  This function can
be more appropriate than redcap_read_oneshot() when returning large
datasets that could tie up the server."><meta property="og:description" content="From an external perspective, this function is similar to
redcap_read_oneshot().  The internals differ in that redcap_read
retrieves subsets of the data, and then combines them before returning
(among other objects) a single tibble::tibble().  This function can
be more appropriate than redcap_read_oneshot() when returning large
datasets that could tie up the server."><meta property="og:image" content="https://ouhscbbmc.github.io/REDCapR/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">REDCapR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/OuhscBbmc/REDCapR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Read records from a REDCap project in subsets, and stacks them together before returning a dataset</h1>
      <small class="dont-index">Source: <a href="https://github.com/OuhscBbmc/REDCapR/blob/main/R/redcap-read.R" class="external-link"><code>R/redcap-read.R</code></a></small>
      <div class="d-none name"><code>redcap_read.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>From an external perspective, this function is similar to
<code><a href="redcap_read_oneshot.html">redcap_read_oneshot()</a></code>.  The internals differ in that <code>redcap_read</code>
retrieves subsets of the data, and then combines them before returning
(among other objects) a single <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code>.  This function can
be more appropriate than <code><a href="redcap_read_oneshot.html">redcap_read_oneshot()</a></code> when returning large
datasets that could tie up the server.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">redcap_read</span><span class="op">(</span></span>
<span>  batch_size <span class="op">=</span> <span class="fl">100L</span>,</span>
<span>  interbatch_delay <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  continue_on_error <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">redcap_uri</span>,</span>
<span>  <span class="va">token</span>,</span>
<span>  records <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fields <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  forms <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  events <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  raw_or_label <span class="op">=</span> <span class="st">"raw"</span>,</span>
<span>  raw_or_label_headers <span class="op">=</span> <span class="st">"raw"</span>,</span>
<span>  export_checkbox_label <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  export_survey_fields <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  export_data_access_groups <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  filter_logic <span class="op">=</span> <span class="st">""</span>,</span>
<span>  datetime_range_begin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>  datetime_range_end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>  blank_for_gray_form_status <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  col_types <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"NA"</span><span class="op">)</span>,</span>
<span>  guess_type <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  guess_max <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  http_response_encoding <span class="op">=</span> <span class="st">"UTF-8"</span>,</span>
<span>  locale <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/locale.html" class="external-link">default_locale</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  config_options <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  handle_httr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  id_position <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-batch-size">batch_size<a class="anchor" aria-label="anchor" href="#arg-batch-size"></a></dt>
<dd><p>The maximum number of subject records a single batch
should contain.  The default is 100.</p></dd>


<dt id="arg-interbatch-delay">interbatch_delay<a class="anchor" aria-label="anchor" href="#arg-interbatch-delay"></a></dt>
<dd><p>The number of seconds the function will wait
before requesting a new subset from REDCap. The default is 0.5 seconds.</p></dd>


<dt id="arg-continue-on-error">continue_on_error<a class="anchor" aria-label="anchor" href="#arg-continue-on-error"></a></dt>
<dd><p>If an error occurs while reading, should records
in subsequent batches be attempted.  The default is <code>FALSE</code>, which prevents
subsequent batches from running.  Required.</p></dd>


<dt id="arg-redcap-uri">redcap_uri<a class="anchor" aria-label="anchor" href="#arg-redcap-uri"></a></dt>
<dd><p>The
<a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier" class="external-link">uri</a>/url
of the REDCap server
typically formatted as "https://server.org/apps/redcap/api/".
Required.</p></dd>


<dt id="arg-token">token<a class="anchor" aria-label="anchor" href="#arg-token"></a></dt>
<dd><p>The user-specific string that serves as the password for a
project.  Required.</p></dd>


<dt id="arg-records">records<a class="anchor" aria-label="anchor" href="#arg-records"></a></dt>
<dd><p>An array, where each element corresponds to the ID of a
desired record.  Optional.</p></dd>


<dt id="arg-fields">fields<a class="anchor" aria-label="anchor" href="#arg-fields"></a></dt>
<dd><p>An array, where each element corresponds to a desired project
field.  Optional.</p></dd>


<dt id="arg-forms">forms<a class="anchor" aria-label="anchor" href="#arg-forms"></a></dt>
<dd><p>An array, where each element corresponds to a desired project
form.  Optional.</p></dd>


<dt id="arg-events">events<a class="anchor" aria-label="anchor" href="#arg-events"></a></dt>
<dd><p>An array, where each element corresponds to a desired project
event.  Optional.</p></dd>


<dt id="arg-raw-or-label">raw_or_label<a class="anchor" aria-label="anchor" href="#arg-raw-or-label"></a></dt>
<dd><p>A string (either <code>'raw'</code> or <code>'label'</code> that specifies
whether to export the raw coded values or the labels for the options of
multiple choice fields.  Default is <code>'raw'</code>.</p></dd>


<dt id="arg-raw-or-label-headers">raw_or_label_headers<a class="anchor" aria-label="anchor" href="#arg-raw-or-label-headers"></a></dt>
<dd><p>A string (either <code>'raw'</code> or <code>'label'</code> that
specifies for the CSV headers whether to export the variable/field names
(raw) or the field labels (label).  Default is <code>'raw'</code>.</p></dd>


<dt id="arg-export-checkbox-label">export_checkbox_label<a class="anchor" aria-label="anchor" href="#arg-export-checkbox-label"></a></dt>
<dd><p>specifies the format of checkbox field values
specifically when exporting the data as labels.  If <code>raw_or_label</code> is
<code>'label'</code> and <code>export_checkbox_label</code> is TRUE, the values will be the text
displayed to the users.  Otherwise, the values will be 0/1.</p></dd>


<dt id="arg-export-survey-fields">export_survey_fields<a class="anchor" aria-label="anchor" href="#arg-export-survey-fields"></a></dt>
<dd><p>A boolean that specifies whether to export the
survey identifier field (e.g., 'redcap_survey_identifier') or survey
timestamp fields (e.g., instrument+'_timestamp').
The timestamp outputs reflect the survey's <em>completion</em> time
(according to the time and timezone of the REDCap server.)</p></dd>


<dt id="arg-export-data-access-groups">export_data_access_groups<a class="anchor" aria-label="anchor" href="#arg-export-data-access-groups"></a></dt>
<dd><p>A boolean value that specifies whether or
not to export the <code>redcap_data_access_group</code> field when data access groups
are utilized in the project. Default is <code>FALSE</code>. See the details below.</p></dd>


<dt id="arg-filter-logic">filter_logic<a class="anchor" aria-label="anchor" href="#arg-filter-logic"></a></dt>
<dd><p>String of logic text (e.g., <code>[gender] = 'male'</code>) for
filtering the data to be returned by this API method, in which the API
will only return the records (or record-events, if a longitudinal project)
where the logic evaluates as TRUE.   An blank/empty string returns all records.</p></dd>


<dt id="arg-datetime-range-begin">datetime_range_begin<a class="anchor" aria-label="anchor" href="#arg-datetime-range-begin"></a></dt>
<dd><p>To return only records that have been created or
modified <em>after</em> a given datetime, provide a
<a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/as.POSIXlt.html" class="external-link">POSIXct</a>
value.
If not specified, REDCap will assume no begin time.</p></dd>


<dt id="arg-datetime-range-end">datetime_range_end<a class="anchor" aria-label="anchor" href="#arg-datetime-range-end"></a></dt>
<dd><p>To return only records that have been created or
modified <em>before</em> a given datetime, provide a
<a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/as.POSIXlt.html" class="external-link">POSIXct</a>
value.
If not specified, REDCap will assume no end time.</p></dd>


<dt id="arg-blank-for-gray-form-status">blank_for_gray_form_status<a class="anchor" aria-label="anchor" href="#arg-blank-for-gray-form-status"></a></dt>
<dd><p>A boolean value that specifies whether
or not to export blank values for instrument complete status fields that have
a gray status icon. All instrument complete status fields having a gray icon
can be exported either as a blank value or as "0" (Incomplete). Blank values
are recommended in a data export if the data will be re-imported into a
REDCap project. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-col-types">col_types<a class="anchor" aria-label="anchor" href="#arg-col-types"></a></dt>
<dd><p>A <code><a href="https://readr.tidyverse.org/reference/cols.html" class="external-link">readr::cols()</a></code> object passed internally to
<code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">readr::read_csv()</a></code>.  Optional.</p></dd>


<dt id="arg-na">na<a class="anchor" aria-label="anchor" href="#arg-na"></a></dt>
<dd><p>A <a href="https://rdrr.io/r/base/character.html" class="external-link">character</a> vector passed internally to <code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">readr::read_csv()</a></code>.
Defaults to <code>c("", "NA")</code>.</p></dd>


<dt id="arg-guess-type">guess_type<a class="anchor" aria-label="anchor" href="#arg-guess-type"></a></dt>
<dd><p>A boolean value indicating if all columns should be
returned as character.  If true, <code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">readr::read_csv()</a></code> guesses the intended
data type for each column.  Ignored if <code>col_types</code> is not null.</p></dd>


<dt id="arg-guess-max">guess_max<a class="anchor" aria-label="anchor" href="#arg-guess-max"></a></dt>
<dd><p>Deprecated.</p></dd>


<dt id="arg-http-response-encoding">http_response_encoding<a class="anchor" aria-label="anchor" href="#arg-http-response-encoding"></a></dt>
<dd><p>The encoding value passed to
<code><a href="https://httr.r-lib.org/reference/content.html" class="external-link">httr::content()</a></code>.  Defaults to 'UTF-8'.</p></dd>


<dt id="arg-locale">locale<a class="anchor" aria-label="anchor" href="#arg-locale"></a></dt>
<dd><p>a <code><a href="https://readr.tidyverse.org/reference/locale.html" class="external-link">readr::locale()</a></code> object to specify preferences like
number, date, and time formats.  This object is passed to
<code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">readr::read_csv()</a></code>.  Defaults to <code><a href="https://readr.tidyverse.org/reference/locale.html" class="external-link">readr::default_locale()</a></code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>A boolean value indicating if <code>message</code>s should be printed
to the R console during the operation.  The verbose output might contain
sensitive information (<em>e.g.</em> PHI), so turn this off if the output might
be visible somewhere public. Optional.</p></dd>


<dt id="arg-config-options">config_options<a class="anchor" aria-label="anchor" href="#arg-config-options"></a></dt>
<dd><p>A list of options passed to <code><a href="https://httr.r-lib.org/reference/POST.html" class="external-link">httr::POST()</a></code>.
See details at <code><a href="https://httr.r-lib.org/reference/httr_options.html" class="external-link">httr::httr_options()</a></code>. Optional.</p></dd>


<dt id="arg-handle-httr">handle_httr<a class="anchor" aria-label="anchor" href="#arg-handle-httr"></a></dt>
<dd><p>The value passed to the <code>handle</code> parameter of
<code><a href="https://httr.r-lib.org/reference/POST.html" class="external-link">httr::POST()</a></code>.
This is useful for only unconventional authentication approaches.  It
should be <code>NULL</code> for most institutions.  Optional.</p></dd>


<dt id="arg-id-position">id_position<a class="anchor" aria-label="anchor" href="#arg-id-position"></a></dt>
<dd><p>The column position of the variable that unique
identifies the subject (typically <code>record_id</code>).
This defaults to the first variable in the dataset.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Currently, a list is returned with the following elements:</p><ul><li><p><code>data</code>: A <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> of the desired records and columns.</p></li>
<li><p><code>success</code>: A boolean value indicating if the operation was apparently
successful.</p></li>
<li><p><code>status_codes</code>: A collection of
<a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" class="external-link">http status codes</a>,
separated by semicolons.  There is one code for each batch attempted.</p></li>
<li><p><code>outcome_messages</code>: A collection of human readable strings indicating the
operations' semicolons.  There is one code for each batch attempted.  In an
unsuccessful operation, it should contain diagnostic information.</p></li>
<li><p><code>records_collapsed</code>: The desired records IDs, collapsed into a single
string, separated by commas.</p></li>
<li><p><code>fields_collapsed</code>: The desired field names, collapsed into a single
string, separated by commas.</p></li>
<li><p><code>filter_logic</code>: The filter statement passed as an argument.</p></li>
<li><p><code>elapsed_seconds</code>: The duration of the function.</p></li>
</ul><p>If no records are retrieved (such as no records meet the filter criteria),
a zero-row tibble is returned.
Currently the empty tibble has zero columns, but that may change in the future.</p>
    </div>
    <div class="section level2">
    <h2 id="batching-subsets-of-data">Batching subsets of data<a class="anchor" aria-label="anchor" href="#batching-subsets-of-data"></a></h2>



<p><code>redcap_read()</code> internally uses multiple calls to <code><a href="redcap_read_oneshot.html">redcap_read_oneshot()</a></code>
to select and return data.  Initially, only the primary key is queried
through the REDCap API.  The long list is then subsetted into batches,
whose sizes are determined by the <code>batch_size</code> parameter.  REDCap is then
queried for all variables of the subset's subjects.  This is repeated for
each subset, before returning a unified <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code>.</p>
<p>The function allows a delay between calls, which allows the server to
attend to other users' requests (such as the users entering data in a
browser).  In other words, a delay between batches does not bog down
the webserver when exporting/importing a large dataset.</p>
<p>A second benefit is less RAM is required on the webserver.  Because
each batch is smaller than the entire dataset, the webserver
tackles more manageably sized objects in memory.  Consider batching
if you encounter the error:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>ERROR<span class="sc">:</span> REDCap ran out of server memory. The request cannot be processed.</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>Please try importing<span class="sc">/</span>exporting a smaller amount of data.</span></code></pre><p></p></div>
<p>A third benefit (compared to <code>redcap_read()</code>) is that important fields are
included, even if not explicitly requested.  As a result:</p><ol><li><p><code>record_id</code> (or it's customized name) will always be returned</p></li>
<li><p><code>redcap_event_name</code> will be returned for longitudinal projects</p></li>
<li><p><code>redcap_repeat_instrument</code> and <code>redcap_repeat_instance</code> will be returned
for projects with repeating instruments</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="export-permissions">Export permissions<a class="anchor" aria-label="anchor" href="#export-permissions"></a></h2>



<p>For <code><a href="redcap_read_oneshot.html">redcap_read_oneshot()</a></code> to function properly, the user must have Export
permissions for the 'Full Data Set'.  Users with only 'De-Identified'
export privileges can still use <code>redcap_read_oneshot</code>.  To grant the
appropriate permissions:</p><ul><li><p>go to 'User Rights' in the REDCap project site,</p></li>
<li><p>select the desired user, and then select 'Edit User Privileges',</p></li>
<li><p>in the 'Data Exports' radio buttons, select 'Full Data Set'.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="pseudofields">Pseudofields<a class="anchor" aria-label="anchor" href="#pseudofields"></a></h2>



<p>The REDCap project may contain "pseudofields", depending on its structure.
Pseudofields are exported for certain project structures, but are not
defined by users and do not appear in the codebook.
If a recognized pseudofield is passed to the <code>fields</code> api parameter,
it is suppressed by <code>redcap_read()</code> and <code><a href="redcap_read_oneshot.html">redcap_read_oneshot()</a></code>
so the server doesn't throw an error.
Requesting a pseudofield is discouraged, so a message is returned to the user.</p>
<p>Pseudofields include:</p><ul><li><p><code>redcap_event_name</code>: for longitudinal projects or multi-arm projects.</p></li>
<li><p><code>redcap_repeat_instrument</code>:  for projects with repeating instruments.</p></li>
<li><p><code>redcap_repeat_instance</code>:   for projects with repeating instruments.</p></li>
<li><p><code>redcap_data_access_group</code>: for projects with DAGs when the
<code>export_data_access_groups</code> api parameter is TRUE.</p></li>
<li><p><code>redcap_survey_identifier</code>:  for projects with surveys when the
<code>export_survey_fields</code> api parameter is TRUE.</p></li>
<li><p><em>instrument_name</em><code>_timestamp</code>: for projects with surveys.
For example, an instrument called "demographics" will have a pseudofield
named <code>demographics_timestamp</code>.
REDCapR does not suppress requests for timestamps, so the server will
throw an error like</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>ERROR<span class="sc">:</span> The following values <span class="cf">in</span> the parameter fields are not valid<span class="sc">:</span> <span class="st">'demographics_timestamp'</span></span></code></pre><p></p></div></li>
</ul></div>
    <div class="section level2">
    <h2 id="events">Events<a class="anchor" aria-label="anchor" href="#events"></a></h2>


<p>The <code>event</code> argument is a vector of characters passed to the server.
It is the "event-name", not the "event-label".
The event-label is the value presented to the users,
which contains uppercase letters and spaces,
while the event-name can contain only lowercase letters, digits,
and underscores.</p>
<p>If <code>event</code> is nonnull and the project is not longitudinal,
<code>redcap_read()</code> will throw an error.
Similarly, if a value in the <code>event</code> vector is not a current
event-name, <code>redcap_read()</code> will throw an error.</p>
<p>The simpler <code><a href="redcap_read_oneshot.html">redcap_read_oneshot()</a></code> function does not
check for invalid event values, and will not throw errors.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>The official documentation can be found on the 'API Help Page'
and 'API Examples' pages on the REDCap wiki (<em>i.e.</em>,
https://community.projectredcap.org/articles/456/api-documentation.html
and
https://community.projectredcap.org/articles/462/api-examples.html).
If you do not have an account for the wiki, please ask your campus REDCap
administrator to send you the static material.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Will Beasley</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">uri</span>     <span class="op">&lt;-</span> <span class="st">"https://redcap-dev-2.ouhsc.edu/redcap/api/"</span></span></span>
<span class="r-in"><span><span class="va">token</span>   <span class="op">&lt;-</span> <span class="st">"9A068C425B1341D69E83064A2D273A70"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Return the entire dataset</span></span></span>
<span class="r-in"><span><span class="fu">REDCapR</span><span class="fu">::</span><span class="fu">redcap_read</span><span class="op">(</span>batch_size<span class="op">=</span><span class="fl">2</span>, redcap_uri<span class="op">=</span><span class="va">uri</span>, token<span class="op">=</span><span class="va">token</span><span class="op">)</span><span class="op">$</span><span class="va">data</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 24 variable metadata records were read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The data dictionary describing 17 fields was read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 3 instrument metadata records were read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1 rows were read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2 data access groups were read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 5 records and 1 columns were read from REDCap in 0.4 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Starting to read 5 records  at 2024-10-14 13:06:51.742333.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reading batch 1 of 3, with subjects 1 through 2 (ie, 2 unique subject records).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2 records and 25 columns were read from REDCap in 0.2 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reading batch 2 of 3, with subjects 3 through 4 (ie, 2 unique subject records).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2 records and 25 columns were read from REDCap in 0.2 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reading batch 3 of 3, with subjects 5 through 5 (ie, 1 unique subject records).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1 records and 25 columns were read from REDCap in 0.2 seconds.  The http status code was 200.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 × 25</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   record_id name_first name_last address  telephone email dob          age   sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>         1 Nutmeg     Nutmouse  <span style="color: #949494;">"</span>14 Ros… (405) 32… nutt… 2003-08-30    11     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>         2 Tumtum     Nutmouse  <span style="color: #949494;">"</span>14 Ros… (405) 32… tumm… 2003-03-10    11     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>         3 Marcus     Wood      <span style="color: #949494;">"</span>243 Hi… (405) 32… mw@m… 1934-04-09    80     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>         4 Trudy      DAG       <span style="color: #949494;">"</span>342 El… (405) 32… pero… 1952-11-02    61     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>         5 John Lee   Walker    <span style="color: #949494;">"</span>Hotel … (405) 32… left… 1955-04-15    59     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 16 more variables: demographics_complete &lt;dbl&gt;, height &lt;dbl&gt;, weight &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   bmi &lt;dbl&gt;, comments &lt;chr&gt;, mugshot &lt;chr&gt;, health_complete &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   race___1 &lt;dbl&gt;, race___2 &lt;dbl&gt;, race___3 &lt;dbl&gt;, race___4 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   race___5 &lt;dbl&gt;, race___6 &lt;dbl&gt;, ethnicity &lt;dbl&gt;, interpreter_needed &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   race_and_ethnicity_complete &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Return a subset of columns while also specifying the column types.</span></span></span>
<span class="r-in"><span><span class="va">col_types</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/cols.html" class="external-link">cols</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  record_id  <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">col_integer</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  race___1   <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">col_logical</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  race___2   <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">col_logical</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  race___3   <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">col_logical</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  race___4   <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">col_logical</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  race___5   <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">col_logical</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  race___6   <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">col_logical</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">REDCapR</span><span class="fu">::</span><span class="fu">redcap_read</span><span class="op">(</span></span></span>
<span class="r-in"><span>  redcap_uri <span class="op">=</span> <span class="va">uri</span>,</span></span>
<span class="r-in"><span>  token      <span class="op">=</span> <span class="va">token</span>,</span></span>
<span class="r-in"><span>  col_types  <span class="op">=</span> <span class="va">col_types</span>,</span></span>
<span class="r-in"><span>  batch_size <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">$</span><span class="va">data</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 24 variable metadata records were read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The data dictionary describing 17 fields was read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 3 instrument metadata records were read from REDCap in 0.3 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1 rows were read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2 data access groups were read from REDCap in 0.1 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 5 records and 1 columns were read from REDCap in 0.2 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Starting to read 5 records  at 2024-10-14 13:06:55.220759.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reading batch 1 of 3, with subjects 1 through 2 (ie, 2 unique subject records).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2 records and 25 columns were read from REDCap in 0.2 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reading batch 2 of 3, with subjects 3 through 4 (ie, 2 unique subject records).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2 records and 25 columns were read from REDCap in 0.2 seconds.  The http status code was 200.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reading batch 3 of 3, with subjects 5 through 5 (ie, 1 unique subject records).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1 records and 25 columns were read from REDCap in 0.2 seconds.  The http status code was 200.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 × 25</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   record_id name_first name_last address  telephone email dob          age   sex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>         1 Nutmeg     Nutmouse  <span style="color: #949494;">"</span>14 Ros… (405) 32… nutt… 2003-08-30    11     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>         2 Tumtum     Nutmouse  <span style="color: #949494;">"</span>14 Ros… (405) 32… tumm… 2003-03-10    11     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>         3 Marcus     Wood      <span style="color: #949494;">"</span>243 Hi… (405) 32… mw@m… 1934-04-09    80     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>         4 Trudy      DAG       <span style="color: #949494;">"</span>342 El… (405) 32… pero… 1952-11-02    61     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>         5 John Lee   Walker    <span style="color: #949494;">"</span>Hotel … (405) 32… left… 1955-04-15    59     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 16 more variables: demographics_complete &lt;dbl&gt;, height &lt;dbl&gt;, weight &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   bmi &lt;dbl&gt;, comments &lt;chr&gt;, mugshot &lt;chr&gt;, health_complete &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   race___1 &lt;lgl&gt;, race___2 &lt;lgl&gt;, race___3 &lt;lgl&gt;, race___4 &lt;lgl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   race___5 &lt;lgl&gt;, race___6 &lt;lgl&gt;, ethnicity &lt;dbl&gt;, interpreter_needed &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   race_and_ethnicity_complete &lt;dbl&gt;</span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Will Beasley.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

